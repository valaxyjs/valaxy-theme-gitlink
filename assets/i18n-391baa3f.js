import{_ as y}from"./ValaxyMain.vue_vue_type_script_setup_true_lang-582c6a45.js";import{_ as F}from"./AppLink.vue_vue_type_script_setup_true_lang-6a96ba53.js";import{_ as D,c as C,w as o,o as A,k as l,z as s,v as e,m as p,r as t,p as d}from"./app-2caabb44.js";import"./GLFooter.vue_vue_type_script_setup_true_lang-138e59dd.js";const As=JSON.parse('{"title":"i18n","description":"","frontmatter":{"title":"i18n","date":"2022-04-09T00:00:00.000Z","categories":"Valaxy 开发笔记","tags":["valaxy","i18n","笔记"],"end":true},"headers":[{"level":2,"title":"Vue-i18n","slug":"vue-i18n","link":"#vue-i18n","children":[{"level":3,"title":"Messages when SSG","slug":"messages-when-ssg","link":"#messages-when-ssg","children":[]}]},{"level":2,"title":"CSS i18n - Another solution","slug":"css-i18n-another-solution","link":"#css-i18n-another-solution","children":[{"level":3,"title":"Result","slug":"result","link":"#result","children":[]},{"level":3,"title":"Steps","slug":"steps","link":"#steps","children":[]}]}],"relativePath":"pages/posts/i18n.md","path":"/home/runner/work/valaxy-theme-gitlink/valaxy-theme-gitlink/demo/pages/posts/i18n.md","lastUpdated":1675518383000}'),c=JSON.parse('{"title":"i18n","description":"","frontmatter":{"title":"i18n","date":"2022-04-09T00:00:00.000Z","categories":"Valaxy 开发笔记","tags":["valaxy","i18n","笔记"],"end":true},"headers":[{"level":2,"title":"Vue-i18n","slug":"vue-i18n","link":"#vue-i18n","children":[{"level":3,"title":"Messages when SSG","slug":"messages-when-ssg","link":"#messages-when-ssg","children":[]}]},{"level":2,"title":"CSS i18n - Another solution","slug":"css-i18n-another-solution","link":"#css-i18n-another-solution","children":[{"level":3,"title":"Result","slug":"result","link":"#result","children":[]},{"level":3,"title":"Steps","slug":"steps","link":"#steps","children":[]}]}],"relativePath":"pages/posts/i18n.md","path":"/home/runner/work/valaxy-theme-gitlink/valaxy-theme-gitlink/demo/pages/posts/i18n.md","lastUpdated":1675518383000}'),u={name:"pages/posts/i18n.md",data(){return{data:c,frontmatter:c.frontmatter}},setup(){d("pageData",c)}},h=l("div",{class:"tip custom-block"},[l("p",{class:"custom-block-title"},[l("span",{lang:"en"},"TIP"),l("span",{lang:"zh-CN"},"提示")]),l("p",null,"You can click this button to toggle locales.")],-1),g=l("div",{class:"text-center"},[p(' <YunToggleLocale class="shadow" /> ')],-1),m={lang:"zh-CN"},f=l("blockquote",null,[l("p",null,"在一个页面中实现 i18n")],-1),_=l("p",null,[s("常见的 i18n 方案为采用不同的路径（如 "),l("code",null,"/zh-CN/"),s("）或解析不同的域名（"),l("code",null,"cn.xxx.xxx"),s("）来分别维护。")],-1),v=l("p",null,[s("但对于博客来说，这显然都很麻烦。 当你需要 i18n 时，你不得不同时维护多个目录下的文章。"),l("br"),s(" 当文章间存在相同的示例时，你还需要维护相同的内容。非常不优雅。")],-1),b={lang:"en"},E=l("blockquote",null,[l("p",null,[l("strong",null,"i18n in One Page")])],-1),k=l("p",null,[s("Common i18n schemes are maintained separately using different paths (e.g. "),l("code",null,"/zh-CN/"),s(") or resolving different domain names ("),l("code",null,"cn.xxx.xxx"),s(").")],-1),w=l("p",null,[s("But for blogs, this is obviously all a hassle. When you need i18n, you have to maintain articles in multiple directories at the same time."),l("br"),s(" You also have to maintain the same content when the same examples exist between articles. Very inelegant.")],-1),S={id:"vue-i18n",tabindex:"-1"},x={lang:"zh-CN"},N={lang:"en"},z=l("div",{class:"language-ts"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," path "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"path"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"defineConfig"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"vite"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," VueI18n "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"@intlify/vite-plugin-vue-i18n"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"export"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"default"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#82AAFF"}},"defineConfig"),l("span",{style:{color:"#A6ACCD"}},"("),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"plugins"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," [")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#82AAFF"}},"VueI18n"),l("span",{style:{color:"#A6ACCD"}},"("),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"runtimeOnly"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FF9CAC"}},"true"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"compositionOnly"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FF9CAC"}},"true"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#F07178"}},"include"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," [path"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"resolve"),l("span",{style:{color:"#A6ACCD"}},"(__dirname"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"locales/**"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},")]"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}},")"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  ]"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}},")")]),s(`
`),l("span",{class:"line"})])])],-1),B=l("div",{lang:"zh-CN"},[l("p",null,[s("在 "),l("code",null,"locales"),s(" 目录下配置 "),l("code",null,"zh-CN.yml"),s(" 与 "),l("code",null,"en.yml"),s("：")])],-1),V=l("div",{lang:"en"},[l("p",null,[s("Write "),l("code",null,"zh-CN.yml"),s(" and "),l("code",null,"en.yml"),s(" in "),l("code",null,"locales"),s(".")])],-1),$=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"# zh-CN.yml")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"sidebar"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"toc"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"文章目录")]),s(`
`),l("span",{class:"line"})])])],-1),T=l("div",{class:"language-yaml"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"# en.yml")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"sidebar"),l("span",{style:{color:"#89DDFF"}},":")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"toc"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C3E88D"}},"Table of Contents")]),s(`
`),l("span",{class:"line"})])])],-1),I=l("div",{lang:"zh-CN"},[l("p",null,[s("并在主入口文件（如 "),l("code",null,"main.ts"),s("）中初始化：")])],-1),M=l("div",{lang:"en"},[l("p",null,[s("and initialized in the main entry file (e.g. "),l("code",null,"main.ts"),s(").")])],-1),q=l("div",{class:"language-ts"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"createI18n"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"vue-i18n"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"// import { createApp } from 'vue'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"// import App from './App.vue'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"/*")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}}," * All i18n resources specified in the plugin `include` option can be loaded")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}}," * at once using the import syntax")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}}," */")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," messages "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"@intlify/vite-plugin-vue-i18n/messages"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#A6ACCD"}}," i18n "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#82AAFF"}},"createI18n"),l("span",{style:{color:"#A6ACCD"}},"("),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"legacy"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FF9CAC"}},"false"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"locale"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"en"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  messages"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}},")")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"// const app = createApp(App)")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"app"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"use"),l("span",{style:{color:"#A6ACCD"}},"(i18n)")]),s(`
`),l("span",{class:"line"})])])],-1),Y=l("div",{lang:"zh-CN"},[l("p",null,[s("此时即可在 Vue 中使用 "),l("code",null,"t('')"),s(" 来翻译对应字段文本。")])],-1),L=l("div",{lang:"en"},[l("p",null,[s("You can then use "),l("code",null,"t('')"),s(" in Vue to translate the text of the corresponding field.")])],-1),W=l("div",{class:"language-vue"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"script"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"lang"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"ts"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"setup"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"useI18n"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"vue-i18n"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#A6ACCD"}}," t "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#82AAFF"}},"useI18n"),l("span",{style:{color:"#A6ACCD"}},"()")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"script"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"template"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"h2"),l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}},' {{ t("sidebar.toc") }} '),l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"h2"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"template"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"})])])],-1),R={id:"messages-when-ssg",tabindex:"-1"},O={lang:"zh-CN"},P=l("p",null,[l("code",null,"vue-i18n"),s(" 支持使用虚拟模块 "),l("code",null,"@intlify/vite-plugin-vue-i18n/messages"),s(" 的方式来导入多语言。")],-1),j=l("p",null,[s("而 Vite 的 "),l("code",null,[s("i"),l("wbr"),s("mport.meta.globEager")]),s(" 导入必须使用静态字符串。")],-1),U={lang:"en"},H=l("p",null,[l("code",null,"vue-i18n"),s(" supports importing multiple languages by using the virtual module "),l("code",null,"@intlify/vite-plugin-vue-i18n/messages"),s(".")],-1),G=l("p",null,[s("And Vite's "),l("code",null,[s("i"),l("wbr"),s("mport.meta.globEager")]),s(" import must use a static string.")],-1),J=l("div",{class:"language-ts"},[l("span",{class:"copy"}),l("div",{class:"highlight-lines"},[l("br"),l("br"),l("div",{class:"highlighted"}," "),l("br"),l("br"),l("br"),l("br"),l("br"),l("br")]),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#A6ACCD"}}," messages "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}}," Object"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"fromEntries"),l("span",{style:{color:"#A6ACCD"}},"(")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  Object"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"entries"),l("span",{style:{color:"#A6ACCD"}},"(")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#A6ACCD"}},"meta"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"globEager"),l("span",{style:{color:"#A6ACCD"}},"("),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"../../locales/*.y(a)?ml"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"))")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"map"),l("span",{style:{color:"#A6ACCD"}},"("),l("span",{style:{color:"#89DDFF"}},"(["),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"key"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"value"),l("span",{style:{color:"#89DDFF"}},"])"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"=>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"      "),l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"yaml"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"key"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"endsWith"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},".yaml"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"      "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"return"),l("span",{style:{color:"#F07178"}}," ["),l("span",{style:{color:"#A6ACCD"}},"key"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"slice"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#F78C6C"}},"14"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"yaml"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"?"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#F78C6C"}},"5"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"-"),l("span",{style:{color:"#F78C6C"}},"4"),l("span",{style:{color:"#F07178"}},")"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"value"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#A6ACCD"}},"default"),l("span",{style:{color:"#F07178"}},"]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"    "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}},")"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},")")]),s(`
`),l("span",{class:"line"})])])],-1),Z=l("div",{lang:"zh-CN"},[l("p",null,[s("当拥有确定目录时，它是奏效的，但 Valaxy 还需要将 Valaxy 自身的 "),l("code",null,"locales"),s(" 与主题的 "),l("code",null,"locales"),s(" 以及用户自定义的 "),l("code",null,"locales"),s(" 进行合并。 这意味着我们不能使用变量来拼接字符串进行导入，对于不同包管理器的目录结构不同，我们很难确定这些 "),l("code",null,"locales"),s(" 处于何处的相对位置。")]),l("p",null,[s("因此我采用插件虚拟模块（"),l("code",null,"@valaxyjs/locales"),s("）的形式实现（依次导入各目录下的 locales 数据并合并）：")]),l("blockquote",null,[l("p",null,"Vite 虚拟模块的原理其实就是拼接字符串。")])],-1),K=l("div",{lang:"en"},[l("p",null,[s("It works when there is a defined directory, but Valaxy also needs to merge Valaxy's own "),l("code",null,"locales"),s(" with the theme's "),l("code",null,"locales"),s(" and user-defined "),l("code",null,"locales"),s(". This means that we cannot use variables to splice strings for import, and it is difficult to determine the relative location of where these "),l("code",null,"locales"),s(" are for different package managers with different directory structures.")]),l("p",null,[s("So I implemented it in the form of a plugin virtual module ("),l("code",null,"@valaxyjs/locales"),s("):")]),l("blockquote",null,[l("p",null,"The principle of the Vite virtual module is actually a spliced string.")])],-1),Q=l("div",{class:"language-ts"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"type"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"Plugin"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"vite"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"// import the locales data in each directory in turn and merge them")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#C792EA"}},"function"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#82AAFF"}},"generateLocales"),l("span",{style:{color:"#89DDFF"}},"("),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"roots"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FFCB6B"}},"string"),l("span",{style:{color:"#A6ACCD"}},"[]"),l("span",{style:{color:"#89DDFF"}},")"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"imports"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#FFCB6B"}},"string"),l("span",{style:{color:"#F07178"}},"[] "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#F07178"}}," [")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"    "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},'const messages = { "zh-CN": {}, en: {} }'),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  ]")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"languages"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#F07178"}}," ["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"zh-CN"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"en"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#F07178"}},"]")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#A6ACCD"}},"roots"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"forEach"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"("),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"root"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"i"),l("span",{style:{color:"#89DDFF"}},")"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#C792EA"}},"=>"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"    "),l("span",{style:{color:"#A6ACCD"}},"languages"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"forEach"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"("),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"lang"),l("span",{style:{color:"#89DDFF"}},")"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#C792EA"}},"=>"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"      "),l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"langYml"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"`${"),l("span",{style:{color:"#A6ACCD"}},"root"),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#C3E88D"}},"/locales/"),l("span",{style:{color:"#89DDFF"}},"${"),l("span",{style:{color:"#A6ACCD"}},"lang"),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#C3E88D"}},".yml"),l("span",{style:{color:"#89DDFF"}},"`")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"      "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"if"),l("span",{style:{color:"#F07178"}}," ("),l("span",{style:{color:"#A6ACCD"}},"fs"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"existsSync"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#A6ACCD"}},"langYml"),l("span",{style:{color:"#F07178"}},") "),l("span",{style:{color:"#89DDFF"}},"&&"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"fs"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"readFileSync"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#A6ACCD"}},"langYml"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"utf-8"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#F07178"}},")) "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"        "),l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"varName"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"lang"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"replace"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"-"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"''"),l("span",{style:{color:"#F07178"}},") "),l("span",{style:{color:"#89DDFF"}},"+"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"i")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"        "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// in windows, you need to change slash")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"        "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// more info you can refer 'packages/valaxy/src/node/plugins/index.ts'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"        "),l("span",{style:{color:"#A6ACCD"}},"imports"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"push"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"`"),l("span",{style:{color:"#C3E88D"}},"import "),l("span",{style:{color:"#89DDFF"}},"${"),l("span",{style:{color:"#A6ACCD"}},"varName"),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#C3E88D"}},' from "'),l("span",{style:{color:"#89DDFF"}},"${"),l("span",{style:{color:"#A6ACCD"}},"langYml"),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#C3E88D"}},'"'),l("span",{style:{color:"#89DDFF"}},"`"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"        "),l("span",{style:{color:"#A6ACCD"}},"imports"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"push"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"`"),l("span",{style:{color:"#C3E88D"}},"Object.assign(messages['"),l("span",{style:{color:"#89DDFF"}},"${"),l("span",{style:{color:"#A6ACCD"}},"lang"),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#C3E88D"}},"'], "),l("span",{style:{color:"#89DDFF"}},"${"),l("span",{style:{color:"#A6ACCD"}},"varName"),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#C3E88D"}},")"),l("span",{style:{color:"#89DDFF"}},"`"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"      "),l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"    "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#A6ACCD"}},"imports"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"push"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"export default messages"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"return"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"imports"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"join"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#A6ACCD"}},"\\n"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"export"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"function"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#82AAFF"}},"createValaxyPlugin"),l("span",{style:{color:"#89DDFF"}},"("),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"options"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FFCB6B"}},"ResolvedValaxyOptions"),l("span",{style:{color:"#89DDFF"}},"):"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FFCB6B"}},"Plugin"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"  "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// ...")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"roots"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#F07178"}}," ["),l("span",{style:{color:"#A6ACCD"}},"options"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#A6ACCD"}},"clientRoot"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"options"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#A6ACCD"}},"themeRoot"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"options"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#A6ACCD"}},"userRoot"),l("span",{style:{color:"#F07178"}},"]")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"return"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"    name"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"Valaxy"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"    load"),l("span",{style:{color:"#89DDFF"}},"("),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"id"),l("span",{style:{color:"#89DDFF"}},")"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"      "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// ...")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"      "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"if"),l("span",{style:{color:"#F07178"}}," ("),l("span",{style:{color:"#A6ACCD"}},"id"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"==="),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"/@valaxyjs/locales"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"        "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"return"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#82AAFF"}},"generateLocales"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#A6ACCD"}},"roots"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"    "),l("span",{style:{color:"#89DDFF"}},"},")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"    "),l("span",{style:{color:"#C792EA"}},"async"),l("span",{style:{color:"#F07178"}}," handleHotUpdate"),l("span",{style:{color:"#89DDFF"}},"("),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"ctx"),l("span",{style:{color:"#89DDFF"}},")"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"      "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// ...")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"    "),l("span",{style:{color:"#89DDFF"}},"},")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"})])])],-1),X=l("div",{lang:"zh-CN"},[l("p",null,"最后在 i18n 的初始化文件加载：")],-1),ll=l("div",{lang:"en"},[l("p",null,"Finally load in the i18n initialization file:")],-1),sl=l("div",{class:"language-ts"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#676E95","font-style":"italic"}},"// i18n.ts")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),l("span",{style:{color:"#A6ACCD"}}," messages "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"/@valaxyjs/locales"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#A6ACCD"}}," i18n "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#82AAFF"}},"createI18n"),l("span",{style:{color:"#A6ACCD"}},"("),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"legacy"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FF9CAC"}},"false"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#F07178"}},"locale"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"en"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  messages"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"app"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"use"),l("span",{style:{color:"#A6ACCD"}},"(i18n)")]),s(`
`),l("span",{class:"line"})])])],-1),ol={id:"css-i18n-another-solution",tabindex:"-1"},nl=l("div",{lang:"zh-CN"},[l("blockquote",null,[l("p",null,"CSS i18n - 另一种互补解决方案")])],-1),el=l("div",{lang:"en"},[l("blockquote",null,[l("p",null,"CSS i18n - Another complementary solution")])],-1),al=l("div",{lang:"zh-CN"},[l("p",null,[s("文章部分拥有大段的文本，而 "),l("code",null,"vue-i18n"),s(" 的场景则在于一些独立的字段翻译。")]),l("p",null,[s("而传统的分文件独立管理的方式，对于博客来说其实并不方便。"),l("br"),s(" 大多数情况，你并不会想专门建立一个文件夹来管理它。")]),l("p",null,"因此我尝试使用纯 CSS 解决该问题。")],-1),tl=l("div",{lang:"en"},[l("p",null,[s("While the article section has large sections of text, the scenario of "),l("code",null,"vue-i18n"),s(" lies in some separate field translations.")]),l("p",null,[s("And the traditional way of managing them independently in separate files is not really convenient for blogs."),l("br"),s(" In most cases, you don't want to create a dedicated folder to manage it.")]),l("p",null,"So I tried to solve the problem using pure CSS.")],-1),cl={lang:"zh-CN"},rl={class:"tip custom-block"},pl=l("p",{class:"custom-block-title"},[l("span",{lang:"en"},"思路"),l("span",{lang:"zh-CN"},"提示")],-1),il=l("br",null,null,-1),yl=l("code",null,'<div lang="zh-CN"></div>',-1),Fl={lang:"en"},Dl={class:"tip custom-block"},Cl=l("p",{class:"custom-block-title"},[l("span",{lang:"en"},"IDEA"),l("span",{lang:"zh-CN"},"提示")],-1),Al=l("br",null,null,-1),dl=l("code",null,'<div lang="zh-CN"></div>',-1),ul=l("div",{lang:"zh-CN"},[l("p",null,[l("strong",null,"优势"),s("：")]),l("ul",null,[l("li",null,"可在同一个 Markdown 文件中进行维护，书写便捷"),l("li",null,"预加载与实时切换"),l("li",null,"URL 不变，便于管理与分享，且切换无需刷新页面")]),l("p",null,[l("strong",null,"劣势"),s("：")]),l("ul",null,[l("li",null,"多语言内容被渲染在同一页面中，增加冗余（但我觉得这微小的体积完全是可以接受的）")])],-1),hl=l("div",{lang:"en"},[l("p",null,[l("strong",null,"Advantages"),s(":")]),l("ul",null,[l("li",null,"Can be maintained in the same Markdown file, easy to write"),l("li",null,"Pre-loading and real-time switching"),l("li",null,"URLs remain unchanged, easy to manage and share, and switch without refreshing the page")]),l("p",null,[l("strong",null,"Disadvantages"),s(":")]),l("ul",null,[l("li",null,"Multi-language content is rendered in the same page, adding redundancy (but I think the tiny size is perfectly acceptable)")])],-1),gl={id:"result",tabindex:"-1"},ml=l("div",{lang:"zh-CN"},[l("p",null,[l("strong",null,"效果如下"),s("（点击按钮切换）：")])],-1),fl=l("div",{lang:"en"},[l("p",null,[l("strong",null,"The effect is as follows"),s(" (click the button to switch).")])],-1),_l=l("div",{lang:"zh-CN"},[l("p",null,"另一种 i18n 方案。"),l("blockquote",null,[l("p",null,"更多内容：...")])],-1),vl=l("div",{lang:"en"},[l("p",null,"Another i18n method."),l("blockquote",null,[l("p",null,"More info...")])],-1),bl=l("div",{lang:"zh-CN"},[l("p",null,"中文")],-1),El=l("div",{lang:"en"},[l("p",null,"English")],-1),kl=l("hr",null,null,-1),wl=l("div",{lang:"zh-CN"},[l("p",null,[l("strong",null,"书写方式"),s("如下：")])],-1),Sl=l("div",{lang:"en"},[l("p",null,[l("strong",null,"Written like this"),s(":")])],-1),xl=l("div",{class:"language-md"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"::: zh-CN")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"另一种 i18n 方案。")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"更多内容：...")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},":::")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"::: en")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"Another i18n method.")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"More info...")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},":::")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"::: zh-CN")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"中文")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},":::")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"::: en")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"English")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},":::")]),s(`
`),l("span",{class:"line"})])])],-1),Nl={id:"steps",tabindex:"-1"},zl=l("div",{lang:"zh-CN"},[l("p",null,[l("strong",null,"实现步骤")])],-1),Bl=l("div",{lang:"zh-CN"},[l("p",null,"为了能够借助 CSS 处理 i18n，我们借助 markdown-it-container 的 fence 包裹 Markdown 中需要参与 i18n 的内容。")],-1),Vl=l("div",{lang:"en"},[l("p",null,"To be able to handle i18n with CSS, we use markdown-it-container's fence to wrap Markdown content that needs to participate in i18n.")],-1),$l=l("div",{class:"language-ts"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"export"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#A6ACCD"}}," containerPlugin "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"("),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"md"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FFCB6B"}},"MarkdownIt"),l("span",{style:{color:"#89DDFF"}},")"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"=>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"  "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// ...")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"languages"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#F07178"}}," ["),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"zh-CN"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"en"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#F07178"}},"]")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#A6ACCD"}},"languages"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"forEach"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"("),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"lang"),l("span",{style:{color:"#89DDFF"}},")"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#C792EA"}},"=>"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"    "),l("span",{style:{color:"#A6ACCD"}},"md"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"use"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#A6ACCD"}},"container"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"lang"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"      "),l("span",{style:{color:"#82AAFF"}},"render"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"("),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"tokens"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#FFCB6B"}},"Token"),l("span",{style:{color:"#F07178"}},"[]"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"idx"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#FFCB6B"}},"number"),l("span",{style:{color:"#89DDFF"}},")"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#C792EA"}},"=>")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"        "),l("span",{style:{color:"#A6ACCD"}},"tokens"),l("span",{style:{color:"#F07178"}},"["),l("span",{style:{color:"#A6ACCD"}},"idx"),l("span",{style:{color:"#F07178"}},"]"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#A6ACCD"}},"nesting"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"==="),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#F78C6C"}},"1"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"?"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"`"),l("span",{style:{color:"#C3E88D"}},'<div lang="'),l("span",{style:{color:"#89DDFF"}},"${"),l("span",{style:{color:"#A6ACCD"}},"lang"),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#C3E88D"}},'">'),l("span",{style:{color:"#A6ACCD"}},"\\n"),l("span",{style:{color:"#89DDFF"}},"`"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"</div>"),l("span",{style:{color:"#A6ACCD"}},"\\n"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},",")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"    "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"})])])],-1),Tl=l("div",{lang:"zh-CN"},[l("p",null,"这可以使：")],-1),Il=l("div",{lang:"en"},[l("p",null,"This allows:")],-1),Ml=l("div",{class:"language-md"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"::: zh-CN")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"中文")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},":::")]),s(`
`),l("span",{class:"line"})])])],-1),ql={lang:"zh-CN"},Yl=l("p",null,[s("变成 "),l("code",null,'<div lang="zh-CN"></div>'),s(" 的形式。")],-1),Ll=l("p",null,"为避免 class 命名冲突，我们可以采用 CSS attribute 的查询方式。",-1),Wl=l("p",null,"首先将 i18n 全部隐藏：",-1),Rl={lang:"en"},Ol=l("p",null,[s("Be "),l("code",null,'<div lang="zh-CN"></div>'),s(".")],-1),Pl=l("p",null,"To avoid class naming conflicts, we can use the CSS attribute query.",-1),jl=l("p",null,"First, hide all i18n:",-1),Ul=l("div",{class:"language-scss"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#FFCB6B"}},"html"),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C792EA"}},"lang"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#FFCB6B"}},"markdown-body"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#FFCB6B"}},"div"),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C792EA"}},"lang"),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#B2CCD6"}},"display"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," none"),l("span",{style:{color:"#89DDFF"}},";")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"})])])],-1),Hl=l("div",{lang:"zh-CN"},[l("p",null,[s("编写 CSS/SCSS 规则，设定 html "),l("code",null,"lang"),s(" 为对应语言时，显示对应语言的元素即可。")])],-1),Gl=l("div",{lang:"en"},[l("p",null,[s("Write CSS/SCSS rules and set html "),l("code",null,"lang"),s(" to display elements in the corresponding language when it is the corresponding language.")])],-1),Jl=l("div",{class:"language-scss"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"$languages"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," zh-CN"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#A6ACCD"}}," en"),l("span",{style:{color:"#89DDFF"}},";")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF","font-style":"italic"}},"@each"),l("span",{style:{color:"#A6ACCD"}}," $lang "),l("span",{style:{color:"#89DDFF","font-style":"italic"}},"in"),l("span",{style:{color:"#A6ACCD"}}," $languages "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#FFCB6B"}},"html"),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C792EA"}},"lang"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},"#{"),l("span",{style:{color:"#A6ACCD"}},"$lang"),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// only for markdown")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#FFCB6B"}},"markdown-body"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#FFCB6B"}},"div"),l("span",{style:{color:"#89DDFF"}},"["),l("span",{style:{color:"#C792EA"}},"lang"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},"#{"),l("span",{style:{color:"#A6ACCD"}},"$lang"),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},"]"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"        "),l("span",{style:{color:"#B2CCD6"}},"display"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," block"),l("span",{style:{color:"#89DDFF"}},";")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"      "),l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    "),l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"})])])],-1),Zl=l("div",{lang:"zh-CN"},[l("p",null,"为了帮助用户记住自己的语言，还请不要忘记初始化。")],-1),Kl=l("div",{lang:"en"},[l("p",null,"To help users remember their language, please also don't forget to initialize.")],-1),Ql=l("div",{class:"language-html"},[l("span",{class:"copy"}),l("div",{class:"highlight-lines"},[l("br"),l("br"),l("br"),l("br"),l("br"),l("br"),l("br"),l("br"),l("div",{class:"highlighted"}," "),l("br"),l("br"),l("br"),l("br"),l("br"),l("br")]),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<!"),l("span",{style:{color:"#F07178"}},"DOCTYPE"),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},"html"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"html"),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},"lang"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"en"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}}," "),l("span",{style:{color:"#C792EA"}},"class"),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"i18n"),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"}),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"head"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#676E95","font-style":"italic"}},"<!-- ... -->")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"  <"),l("span",{style:{color:"#F07178"}},"script"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"    ("),l("span",{style:{color:"#C792EA"}},"function"),l("span",{style:{color:"#89DDFF"}},"()"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"      "),l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"locale"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"localStorage"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"getItem"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"valaxy-locale"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#F07178"}},") "),l("span",{style:{color:"#89DDFF"}},"||"),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"en"),l("span",{style:{color:"#89DDFF"}},"'")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"      "),l("span",{style:{color:"#A6ACCD"}},"document"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#A6ACCD"}},"documentElement"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"setAttribute"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"lang"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"locale"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"    "),l("span",{style:{color:"#89DDFF"}},"}"),l("span",{style:{color:"#A6ACCD"}},")()")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#A6ACCD"}},"  "),l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"script"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"head"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"<"),l("span",{style:{color:"#F07178"}},"body"),l("span",{style:{color:"#89DDFF"}},">"),l("span",{style:{color:"#A6ACCD"}},"..."),l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"body"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"</"),l("span",{style:{color:"#F07178"}},"html"),l("span",{style:{color:"#89DDFF"}},">")]),s(`
`),l("span",{class:"line"})])])],-1),Xl=l("div",{lang:"zh-CN"},[l("p",null,"切换语言时则可做如下处理：")],-1),ls=l("div",{lang:"en"},[l("p",null,"When switching languages, the following can be done.")],-1),ss=l("div",{class:"language-ts"},[l("span",{class:"copy"}),l("pre",{class:"shiki material-theme-palenight"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#C792EA"}},"const"),l("span",{style:{color:"#A6ACCD"}}," toggleLocales "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"("),l("span",{style:{color:"#A6ACCD","font-style":"italic"}},"lang"),l("span",{style:{color:"#89DDFF"}},":"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#FFCB6B"}},"val"),l("span",{style:{color:"#89DDFF"}},")"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#C792EA"}},"=>"),l("span",{style:{color:"#A6ACCD"}}," "),l("span",{style:{color:"#89DDFF"}},"{")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"  "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// ...")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"  "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// save locale")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#A6ACCD"}},"localStorage"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"setItem"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"valaxy-locale"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"lang"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"  "),l("span",{style:{color:"#676E95","font-style":"italic"}},"// set html lang")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#F07178"}},"  "),l("span",{style:{color:"#A6ACCD"}},"document"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#A6ACCD"}},"documentElement"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"setAttribute"),l("span",{style:{color:"#F07178"}},"("),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#C3E88D"}},"lang"),l("span",{style:{color:"#89DDFF"}},"'"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#F07178"}}," "),l("span",{style:{color:"#A6ACCD"}},"lang"),l("span",{style:{color:"#F07178"}},")")]),s(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"}")]),s(`
`),l("span",{class:"line"})])])],-1),os=l("div",{lang:"zh-CN"},[l("p",null,[s("值得一提的是，在查看 "),l("code",null,"lang"),s(" 文档时，我意外地发现 "),l("code",null,":lang"),s(" 也是一种支持的选择器。 因此上述的 CSS 中 "),l("code",null,'[lang="xxx"]'),s(" 也可以替换为 "),l("code",null,":lang(xxx)"),s("。")]),l("p",null,[s("但是 "),l("code",null,":lang()"),s(" 也会命中默认语言的 "),l("code",null,"div"),s("（没有 lang 字段，但处于含有 lang 的标签中），因此为了安全，我们还是应该使用 class 的属性查询。")])],-1),ns=l("div",{lang:"en"},[l("p",null,[s("It's worth mentioning that when looking at the "),l("code",null,"lang"),s(" documentation, I accidentally found that "),l("code",null,":lang"),s(" is also a supported selector. So "),l("code",null,'[lang="xxx"]'),s(" in the CSS above could also be replaced with "),l("code",null,":lang(xxx)"),s(".")]),l("p",null,[s("However, "),l("code",null,":lang()"),s(" will also hit the default language "),l("code",null,"div"),s(" (which has no lang field but is in a tag containing lang), so to be safe we should still use the class attribute query.")])],-1),es=l("div",{lang:"zh-CN"},[l("p",null,"我认为 vue-i18n 与 CSS i18n 的互补，可以非常好地解决单页内的 i18n 切换。 不妨一试？")],-1),as=l("div",{lang:"en"},[l("p",null,"I think vue-i18n complements CSS i18n and could be a very good solution for i18n switching within a single page. Why not give it a try?")],-1);function ts(a,cs,rs,ps,r,is){const n=F,i=y;return A(),C(i,{frontmatter:r.frontmatter,data:r.data},{"main-content-md":o(()=>[h,g,l("div",m,[f,l("p",null,[s("为了使 "),e(n,{href:"https://github.com/YunYouJun/valaxy",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("Valaxy")]),_:1}),s(" 成为一个国际化的项目，i18n 是必不可少的。")]),_,l("blockquote",null,[l("p",null,[s("此外还可使用 "),e(n,{href:"https://crowdin.com/",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("crowdin")]),_:1}),s(" 平台辅助用户进行多语言翻译。")])]),v,l("p",null,[s("Valaxy 中， 站点的独立字段部分（如文章目录：Table of Contents）基于 "),e(n,{href:"https://vue-i18n.intlify.dev/",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("vue-i18n")]),_:1}),s(" 实现， 而文章内容部分的大段文本则采用另一种 CSS i18n 的方案。")]),l("p",null,[e(n,{href:"#result"},{default:o(()=>[s("我想先看看效果")]),_:1})])]),l("div",b,[E,l("p",null,[s("In order to make "),e(n,{href:"https://github.com/YunYouJun/valaxy",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("Valaxy")]),_:1}),s(" an international project, i18n is essential.")]),k,l("blockquote",null,[l("p",null,[s("In addition, the "),e(n,{href:"https://crowdin.com/",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("crowdin")]),_:1}),s(" platform can be used to assist users with multilingual translations.")])]),w,l("p",null,[s("In Valaxy, the The standalone fields of the site (e.g. Table of Contents) are implemented based on "),e(n,{href:"https://vue-i18n.intlify.dev/",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("vue-i18n")]),_:1}),s(". The large text sections of the article content section use a different CSS i18n scheme.")]),l("p",null,[e(n,{href:"#result"},{default:o(()=>[s("I want to see the result first.")]),_:1})])]),l("h2",S,[s("Vue-i18n "),e(n,{class:"header-anchor",href:"#vue-i18n","aria-hidden":"true"},{default:o(()=>[s("#")]),_:1})]),l("div",x,[l("p",null,[s("配置 Vite Vue-i18n 插件 "),e(n,{href:"https://github.com/intlify/bundle-tools/tree/main/packages/vite-plugin-vue-i18n",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("@intlify/vite-plugin-vue-i18n")]),_:1}),s("：")])]),l("div",N,[l("p",null,[s("Config Vite Vue-i18n plugin "),e(n,{href:"https://github.com/intlify/bundle-tools/tree/main/packages/vite-plugin-vue-i18n",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("@intlify/vite-plugin-vue-i18n")]),_:1}),s("：")])]),z,B,V,$,T,I,M,q,Y,L,W,l("h3",R,[s("Messages when SSG "),e(n,{class:"header-anchor",href:"#messages-when-ssg","aria-hidden":"true"},{default:o(()=>[s("#")]),_:1})]),l("div",O,[P,l("p",null,[s("可惜的是，它并没有完美地支持 SSR。"),e(n,{href:"https://github.com/intlify/bundle-tools/issues/78",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("#78 | intlify/bundle-tools")]),_:1})]),j]),l("div",U,[H,l("p",null,[s("Unfortunately, it doesn't support SSR perfectly."),e(n,{href:"https://github.com/intlify/bundle-tools/issues/78",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("#78 | intlify/bundle-tools")]),_:1})]),G]),J,Z,K,Q,X,ll,sl,l("h2",ol,[s("CSS i18n - Another solution "),e(n,{class:"header-anchor",href:"#css-i18n-another-solution","aria-hidden":"true"},{default:o(()=>[s("#")]),_:1})]),nl,el,al,tl,l("div",cl,[l("div",rl,[pl,l("p",null,[s("即借助 CSS 规则，根据对应语言，显示对应区块内容。"),il,s(" 大体方案：通过 "),e(n,{href:"https://github.com/markdown-it/markdown-it-container",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("markdown-it-container")]),_:1}),s(" 设置 fence 预编译 Markdown， 为需要进行 i18n 的段落包裹新的 "),yl,s("，并使用 CSS 默认隐藏它们。 当页面初始化或切换语言时，为 html 添加对应语言类，编写对应 CSS 以在该类下显示对应语言的区块。")])])]),l("div",Fl,[l("div",Dl,[Cl,l("p",null,[s("That is, with the help of CSS rules, the content of the corresponding block is displayed according to the corresponding language."),Al,s(" The general solution: set fence to pre-compile Markdown via "),e(n,{href:"https://github.com/markdown-it/markdown-it-container",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("markdown-it-container")]),_:1}),s(". Wrap new "),dl,s("s for the paragraphs that need to be i18n and hide them by default with CSS. When the page initializes or switches languages, add the corresponding language class to html and write the corresponding CSS to display the corresponding language block under that class.")])])]),ul,hl,l("h3",gl,[s("Result "),e(n,{class:"header-anchor",href:"#result","aria-hidden":"true"},{default:o(()=>[s("#")]),_:1})]),ml,fl,p(' <YunToggleLocale class="shadow" /> '),_l,vl,bl,El,kl,wl,Sl,xl,l("h3",Nl,[s("Steps "),e(n,{class:"header-anchor",href:"#steps","aria-hidden":"true"},{default:o(()=>[s("#")]),_:1})]),zl,Bl,Vl,$l,Tl,Il,Ml,l("div",ql,[Yl,l("blockquote",null,[l("p",null,[e(n,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("lang")]),_:1}),s(" 是 HTML 的一个标准字段。")])]),Ll,Wl]),l("div",Rl,[Ol,l("blockquote",null,[l("p",null,[e(n,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang",target:"_blank",rel:"noreferrer"},{default:o(()=>[s("lang")]),_:1}),s(" is a standard field in HTML.")])]),Pl,jl]),Ul,Hl,Gl,Jl,Zl,Kl,Ql,Xl,ls,ss,os,ns,es,as]),"main-header":o(()=>[t(a.$slots,"main-header")]),"main-header-after":o(()=>[t(a.$slots,"main-header-after")]),"main-nav":o(()=>[t(a.$slots,"main-nav")]),"main-content":o(()=>[t(a.$slots,"main-content")]),"main-content-after":o(()=>[t(a.$slots,"main-content-after")]),"main-nav-before":o(()=>[t(a.$slots,"main-nav-before")]),"main-nav-after":o(()=>[t(a.$slots,"main-nav-after")]),comment:o(()=>[t(a.$slots,"comment")]),footer:o(()=>[t(a.$slots,"footer")]),aside:o(()=>[t(a.$slots,"aside")]),"aside-custom":o(()=>[t(a.$slots,"aside-custom")]),default:o(()=>[t(a.$slots,"default")]),_:3},8,["frontmatter","data"])}const ds=D(u,[["render",ts]]);export{As as __pageData,ds as default};
